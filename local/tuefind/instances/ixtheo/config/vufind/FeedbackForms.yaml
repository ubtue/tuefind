---
# Listing of configured forms.
#
# Configured forms are listed in the top level 'forms' array and can accessed via the URL:
# /Feedback/Form/<form-id>
#
# The main Feedback form (id: FeedbackSite) can be accessed with a shorter URL /Feedback
#
# Form supports the following options:
#
#   enabled (boolean) Is the form enabled? (default = true)
#   useCaptcha (boolean) Should the form use Captcha validation? Requires the "feedback"
#                        option to be turned on in the config.ini [Captcha] form setting.
#                        (default = true, if Captcha turned on for feedback overall).
#   reportReferrer (boolean) Should the form report the page from which it was invoked
#   reportUserAgent (boolean) Should the form report the browser's user agent string
#   title (string) Form title (translation key)
#   onlyForLoggedUsers (boolean) Require the user to be logged in to see the form
#                                (default = false)
#   emailSubject (string) Email subject (translation key). (default = email_subject
#                         value from config.ini [Feedback] section, or 'VuFind Feedback')
#                         The subject may contain placeholders (for example %%receiver%%)
#                         that are replaced with submitted form values.
#   emailFrom (address in email envelope, separate from user's email)
#     name (string)  Sender name (default = sender_name setting from config.ini
#                    [Feedback] section)
#     email (string) Sender email (default = sender_email setting from
#                    config.ini [Feedback] section)
#   recipient
#     name (string)  Recipient name (default = recipient_name setting from config.ini
#                    [Feedback] section)
#     email (string) Recipient email address (default = recipient_email setting from
#                    config.ini [Feedback] section)
#
#   Multiple recipients can be configured using a list:
#
#   recipient:
#     - name: Recipient 1
#       email: recipient1@email
#     - name: Recipient 2
#       email: recipient2@email
#
#   response (string) Response after form submit (translation key)
#   senderInfoRequired (boolean)  Require sender to fill out name and email fields - deprecated
#   senderEmailRequired (boolean) Require sender to fill out email field
#   senderNameRequired (boolean)  Require sender to fill out name field
#
#   primaryHandler (string)   Handlers to process form data - default is 'email', available
#                             options are: 'email', 'database'. When this handler fails, the
#                             whole feedback send action fails. You can add your own handler
#                             by implementing \VuFind\Form\Handler\HandlerInterface, and adding
#                             it to module config under key:
#                               'vufind' -> 'plugin_manager' -> 'form_handler'
#                             Example:
#                               primaryHandler: database
#   secondaryHandlers (array) Additional handlers could be defined here. They can fail silently,
#                             but could be useful as safety/notify handlers.
#                             Example:
#                               secondaryHandlers:
#                                 - email
#
#   help
#     pre (string)  Help text displayed at the beginning of the form (translation key).
#     post (string) Help text displayed at the end of the form (translation key)
#
#   Help texts may contain HTML-formatting.
#
#   prefillFields (array) Fields that could be prefilled by passing parameter to form URL. Could be
#                         used only with hidden, text and textarea types.
#                         Example:
#                           prefillFields:
#                             - siteCode
#                          With configured field 'siteCode' enables prefilling the field with
#                          /Feedback/Form/FeedbackSite?siteCode=website
#
#   fields (array) List of form elements with the following options:
#
#     name (string)        Element name (see below for reserved element names)
#     label (string)     Element label (translation key)
#     required (boolean)   Is the element required? (for checkbox elements this means that
#                          all options have to be selected.)
#     requireOne (boolean) Require at least one checkbox option to be selected.
#     settings (array)   HTML attributes as key-value pairs, for example:
#       - class: "custom-css-class another-class"
#                          or
#       - [class, "custom-css-class another-class"]
#     type (string)        Element type (text|textarea|date|email|url|select|radio|checkbox|hidden)
#
#     help (string)        Element help text (translation key) that is displayed before the element.
#                        To include HTML formatting, use a translation key ending
#                        in '_html' here, and define markup in the language files.
#
#       or
#
#     help (array)
#      pre (string)      Like above.
#      post (string)     Like above but the help text is displayed after the element.
#
#
#     Additional settings for date element:
#
#     format             Date format to use in the resulting message  (default is
#                        displayDateFormat in config.ini). Format of the actual field
#                        displayed on the form is controlled by user's browser.
#     minValue           Minimum acceptable date. A string that PHP's strtotime can
#                        parse (e.g. 'now' or '2021-09-09').
#     maxValue           Maximum acceptable date. A string that PHP's strtotime can
#                        parse (e.g. 'now' or '2021-09-09').
#
#     Additional settings for select, radio and checkbox elements:
#
#     options (array) List of select values (translation keys)
#                     or a list of options with 'value' and 'label' (translation) keys.
#                       Examples:
#                         options:
#                           - option-1
#                           - option-2
#
#                         or
#
#                         options:
#                           - value: value-1
#                             label: label-1
#                           - value: value-2
#                             label: label-2
#
#     Alternative settings for select elements:
#
#     optionGroups (array) List of option groups with keys:
#       label (string) Group label (translation key)
#       options (array) List of select values (see above)
#
#     placeholder (string) Placeholder label (translation key). Used to instruct or force
#       (when combined with 'required' attribute) the user to make a selection from the
#       options-list. Only select elements with 'options' are supported.
#       For text, textarea, email and url elements, a placeholder text (translation key)
#       can be configured by adding a HTML-attribute via 'settings', for example:
#       settings:
#         - [placeholder, Please select...]
#
#
# Reserved element names:
#
# - name       Sender name. You can add the field to fields configuration to define
#              its position on the form.
# - email      Sender email. You can add the field to fields configuration to define
#              its position on the form.
# - referrer   Used for browser's referrer information when reportReferrer is
#              enabled.
# - useragent  Used for reporting browser's user agent string when reportUserAgent is
#              enabled.
# - submit     Form submit button.
#
#-----------------------------------------------------------------------------------

forms:
  # Main Feedback form

  FeedbackSite:
    title: feedback_title
    enabled: true
    useCaptcha: true
    reportReferrer: true
    reportUserAgent: true
    #emailFrom:
    #  name: Your Library - Site Feedback
    #recipient:
    #  name: Your Library
    #  email: feedback@myuniversity.edu
    primaryHandler: email
    onlyForLoggedUsers: false
    #emailSubject: VuFind Feedback
    response: feedback_response
    senderEmailRequired: true
    senderNameRequired: true
    senderInfoRequired: true

    help:
      #  pre: feedback_help_pre
      post: Feedback_Disclaimer

    fields:
      - name: message
        type: textarea
        label: Comments
        required: true
        settings:
        # help: Feedback_Disclaimer

  # Example for an acquisition request form

  AcquisitionRequest:
    enabled: true
    #title: Acquisition Request
    onlyForLoggedUsers: false
    emailSubject: Acquisition Request
    title: Acquisition Request
    response: Thank you for suggesting a title.
    senderInfoRequired: true

    #recipient:
    #  name: Your Library
    #  email: feedback@myuniversity.edu

    help:
      pre: acquisition_request_description
      #post: acquisition_request_info_post

    fields:
      - name: title
        type: text
        label: Book Request
        required: true

      - name: message
        type: textarea
        label: Comments

  SelfArchivingAddMetadata:
    enabled: true
    onlyForLoggedUsers: true
    title: "Self-Archiving: Metadaten-Formular"

    fields:
      - name: print_online
        label: "Handelt es sich um eine Print- oder eine Online-Publikation?"
        type: radio
        required: true
        options:
          - value: online
            label: "Online"
          - value: print
            label: "Print " # Note: The whitespace at the end is intentional so this will not be translated

      - name: authors
        label: "Verfasser*innen"
        type: text
        required: true

      - name: publication_year
        label: "Erscheinungsjahr"
        type: text
        required: true

      - name: title
        label: "Titel"
        type: text
        required: true

      - name: subtitle
        label: "Untertitel"
        type: text
        required: true

      - name: language
        label: "Sprache des Beitrags"
        type: language
        required: true

      - name: superior_work_type
        label: "Wo/In welchem übergeordneten Werk ist der Beitrag enthalten?"
        type: radio
        required: true
        options:
          - value: journal
            label: "In einer Zeitschrift"
          - value: collection
            label: "In einem Sammelband"

      # START superior_work_type-specific fields (see JS)
      - name: superior_title
        label: Titel
        type: text
        required: true

      - name: superior_issn
        label: ISSN
        type: text

      - name: superior_isbn
        label: ISBN
        type: text

      - name: superior_ixtheo_url
        label: IxTheo-Link
        type: text

      - name: superior_volume
        label: Band
        type: text

      - name: superior_year
        label: Jahr
        type: text
        required: true

      - name: superior_issue
        label: Heft
        type: text

      - name: superior_article_id
        label: Aufsatz-ID
        type: text

      - name: superior_publishers
        label: Herausgeber*innen
        type: text
        required: true

      - name: superior_pages
        label: Seiten
        type: text
        required: true
      # END superior_work-specific fields (see JS)

      - name: online_exists
        label: "Ist bereits ein Link zu einer Onlineversion des Beitrags verfügbar?"
        type: radio
        required: true
        options:
          - value: yes
            label: "Ja"
          - value: no
            label: "Nein"

      # START online_exists-specific fields (see JS)
      - name: online_url
        label: Link
        type: text
        required: true

      - name: online_license
        label: Verfügbarkeit
        type: radio
        required: true
        options:
          - value: yes
            label: "Volltext nicht frei verfügbar"
          - value: no
            label: "Open Access"
      # END online_exists-specific fields (see JS)

      - name: comments
        type: textarea
        label: Comments

  SelfArchivingRegisterLink:
    enabled: true
    onlyForLoggedUsers: true
    title: "Link zu einer vorhandenen Zweitveröffentlichung ergänzen"

    help:
      pre: "Hier können Sie den Link zu einer bereits vorhandenen Open-Access-Zweitveröffentlichung Ihrer Publikation eintragen. Bitte verwenden Sie dauerhafte Links (doi, handle oder urn)."

    fields:
      - name: ppn
        type: text
        label: "PPN"

      - name: title
        type: text
        label: "Title"

      - name: author
        type: text
        label: "Autor"

      - name: link
        type: text
        label: "Link"

    prefillFields:
      - ppn
      - title
      - author

  SelfArchivingLexikonartikel:
    enabled: true
    onlyForLoggedUsers: true
    title: SA_encyclopedia_article

    help:
      pre: ""

    fields:
      - name: authors
        label: SA_authors
        type: multifieldtext
        maxMultiFieldtext: 8
        required: true

      - name: title
        label: SA_lemma_title
        type: text
        required: true

      - name: teilaspekt
        label: SA_subaspect
        type: text
        required: false

      - name: language
        label: SA_language_of_article
        type: language
        required: true

      #In Werk group open
      - name: rezensiertes_werk_group_name
        label: SA_source_of_work_lexicon
        type: hidden
        group: inwerkgroup_7

      - name: zeitschrift_werk_group_title
        label: SA_title
        type: text
        required: true
        group: inwerkgroup_7

      - name: zeitschrift_werk_group_band
        label: SA_volume
        type: text
        required: true
        group: inwerkgroup_7

      - name: zeitschrift_werk_group_year
        label: SA_year_of_publication
        type: text
        required: true
        group: inwerkgroup_7

      - name: zeitschrift_werk_group_ISBN
        label: "ISBN"
        type: text
        required: false
        group: inwerkgroup_7

      - name: zeitschrift_werk_group_IxTheo_Link
        label: "IxTheo-Link"
        type: text
        required: false
        group: inwerkgroup_7

      - name: zeitschrift_werk_group_seiten_oder_spalten
        label: SA_pages_or_columns
        type: text
        required: false
        group: inwerkgroup_7

      #In Werk group close

      - name: onlineversion
        label: SA_is_the_online_version_avaible
        type: radio
        required: true
        options:
          - value: bereit1
            label: yes
          - value: bereit2
            label: no

      - name: onlineversion_werk_group_fulltext
        label: SA_full_text_is_not_freely_available
        type: text
        required: true

      - name: onlineversion_werk_group_openaccess
        label: "Open Access"
        type: text
        required: true

      - name: comment
        label: SA_comment
        type: text
        required: true

  SelfArchivingRezension:
    enabled: true
    onlyForLoggedUsers: true
    title: SA_review
    emailSubject: "%%title%%"
    recipient:
       - email: pica_template_generator@localhost

    useCaptcha: false

    help:
      pre: ""

    fields:
      - name: authors
        label: SA_authors
        type: multifieldtext
        maxMultiFieldtext: 8
        required: true

      - name: title
        label: SA_title_review
        type: text
        required: true

      - name: reviewed_work_authors
        label: SA_reviewed_work_authors
        type: multifieldtext
        maxMultiFieldtext: 8
        required: true

      - name: reviewed_work_ISBN
        label: SA_reviewed_work_ISBN
        type: text

      - name: reviewed_work_title
        label: SA_reviewed_work_title
        type: text
        required: true

      - name: revieved_work_erscheinungsjahr
        label: SA_reviewed_work_publication_year
        type: text
        required: true

      - name:  reviewed_work_IxTheo_Link
        label: SA_reviewed_work_ixtheo_link
        type: text


      - name: language
        label: SA_language_of_article
        type: language
        required: true

      - name: inwerkradio
        label: ""
        type: exclusiveSelect
        required: true
        options:
          - value: journal
            label: SA_in_the_magazine
          - value: anthology
            label: SA_in_the_collection

      #Rezension superior anthology group open
      - name: rezension_superior_anthology_group_author
        label: SA_author_or_editor
        type: text
        required: true
        group: anthology

      - name: rezension_superior_anthology_group_title
        label: SA_title
        type: text
        required: true
        group: anthology

      - name: rezension_superior_anthology_group_erscheinungsjahr
        label: SA_year_of_publication
        type: text
        require: true
        group: anthology

      - name: rezension_superior_anthology_group_ISBN
        label: "ISBN"
        type: text
        required: false
        group: anthology

      - name:  rezension_superior_anthology_IxTheo_Link
        label: "IxTheo-Link"
        type: text
        required: false
        group: anthology
      #Rezension superior anthology group close


      #In Werk group open
      - name: zeitschrift_werk_group_title
        label: SA_title
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_ISSN
        label: "ISSN"
        type: text
        required: false
        group: journal

      - name: sammelband_werk_group_ISBN
        label: "ISBN"
        type: text
        required: false
        group: journal

      - name: zeitschrift_werk_group_IxTheo_Link
        label: "IxTheo-Link"
        type: text
        required: false
        group: journal

      - name: sammelband_werk_group_Herausgeber
        label: SA_editor
        type: text
        require: true
        group: journal


      - name: zeitschrift_werk_group_band
        label: SA_volume
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_jahr
        label: Year
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_heft
        label: SA_issue
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_aufsatz_ID
        label: SA_article_id
        type: text
        required: false
        group: journal

      - name: zeitschrift_werk_group_seiten
        label: Pages
        type: text
        group: journal

      #In Werk group close

      - name: online_links
        label: SA_online_links
        type: multifieldtext
        maxMultiFieldtext: 3

      - name: comment
        label: SA_comment
        type: text

  SelfArchivingAufsatz:
    enabled: true
    onlyForLoggedUsers: true
    title: SA_article
    emailSubject: "%%title%%"
    recipient:
      - email: johannes.riedl@uni-tuebingen.de


    help:
      pre: ""

    fields:
      - name: authors
        label: SA_authors
        type: multifieldtext
        maxMultiFieldtext: 8
        required: true

      - name: title
        label: SA_title
        type: text
        required: true

      - name: subtitle
        label: SA_subtitle
        type: text

      - name: language
        label: SA_language_of_article
        type: language
        required: true

      - name: inwerkradio
        label: ""
        type: exclusiveSelect
        required: true
        options:
          - value: "journal"
            label: SA_in_the_magazine
          - value: "anthology"
            label: SA_in_the_collection

      #In Werk group open
      - name: superior_title
        label: SA_title
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_ISSN
        label: "ISSN"
        type: text
        required: false
        group: journal

      - name: zeitschrift_werk_group_IxTheo_Link
        label: "IxTheo-Link"
        type: text
        required: false
        group: journal

      - name: zeitschrift_werk_group_band
        label: SA_volume
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_jahr
        label: Year
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_heft
        label: SA_issue
        type: text
        required: true
        group: journal

      - name: zeitschrift_werk_group_aufsatz_ID
        label: SA_article_id
        type: text
        required: true
        group: journal

      - name: superior_pages
        label: Pages
        type: text
        required: false
        group: journal
      #In Werk group close

      #In Werk group2 open
      - name: superior_title2
        label: SA_title
        type: text
        required: true
        group: anthology

      - name: sammelband_werk_group_Herausgeber
        label: SA_editor
        type: multifieldtext
        maxMultiFieldtext: 8
        group: anthology

      - name: sammelband_werk_group_erscheinungsjahr
        label: SA_year_of_publication
        type: text
        group: anthology

      - name: sammelband_werk_group_ISBN
        label: "ISBN"
        type: text
        required: false
        group: anthology

      - name: zeitschrift_werk_group_IxTheo_Link2
        label: "IxTheo-Link"
        type: text
        required: false
        group: anthology

      - name: superior_pages2
        label: Pages
        type: text
        required: false
        group: anthology
      #In Werk group2 close

      - name: online_links
        label: SA_online_links
        type: multifieldtext
        maxMultiFieldtext: 3

      - name: comment
        label: SA_comment
        type: text

  SelfArchivingMonographie:
    enabled: true
    onlyForLoggedUsers: true
    title: SA_monographic

    help:
      pre: ""

    fields:
      - name: print_online
        label: SA_online_or_print
        type: radio
        required: true
        options:
          - value: online
            label: "Online"
          - value: print
            label: "Print " # Note: The whitespace at the end is intentional so this will not be translated

      - name: authors
        label: SA_authors
        type: multifieldtext
        maxMultiFieldtext: 8
        required: true

      - name: publication_year
        label: SA_year_of_publication
        type: text
        required: true

      - name: title
        label: SA_title
        type: text
        required: true

      - name: untertitel
        label: SA_subtitle
        type: text
        required: true

      - name: language
        label: SA_language_of_article
        type: language
        required: true

      - name: ISBN
        label: "ISBN"
        type: text
        required: true

      - name: link
        label: "IxTheo-Link"
        type: text
        required: true

      - name: reihe
        label: SA_series
        type: text
        required: true

      - name: reihennummer
        label: SA_series_number
        type: text
        required: true

      - name: onlineversion
        label: SA_is_the_online_version_avaible
        type: radio
        required: true
        options:
          - value: bereit1
            label: yes
          - value: bereit2
            label: no

      - name: onlineversion_werk_group_fulltext
        label: SA_full_text_is_not_freely_available
        type: text
        required: true

      - name: onlineversion_werk_group_openaccess
        label: "Open Access"
        type: text
        required: true
