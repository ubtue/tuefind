<?php if (isset($this->showCheckboxes) && $this->showCheckboxes): ?>
  <nav class="bulkActionButtons">
    <div class="bulk-checkbox">
      <input type="checkbox" class="checkbox-select-all" name="selectAll" id="<?=$this->idPrefix?>addFormCheckboxSelectAll"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>/>
      <label for="<?=$this->idPrefix?>addFormCheckboxSelectAll">
        <?=$this->transEsc('select_page')?>
        &#124; <?=$this->transEsc('with_selected')?>:
      </label>
    </div>
    <ul class="action-toolbar">
      <?php if (isset($this->showBulkOptions) && $this->showBulkOptions): ?>
        <!-- tuefind2: only show email ribbon if login is not disabled, or you get "login_disabled" message when trying to use it (same as ribbon-save) -->
        <!-- this has also be suggested as change to vufind-org for vufind5 -->
        <?php if ($this->userlist()->getMode() !== 'disabled'): ?>
          <li>
            <button id="ribbon-email" class="toolbar-btn btn-type-email" type="submit" name="email" value="1" title="<?=$this->transEsc('bookbag_email_selected')?>"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>>
              <?=$this->icon('send-email') ?>
              <?=$this->transEsc('Email')?>
            </button>
          </li>
        <?php endif; ?>
        <?php $exportOptions = $this->export()->getActiveFormats('bulk'); if (count($exportOptions) > 0): ?>
          <li>
            <button id="ribbon-export" class="toolbar-btn btn-type-export" type="submit" name="export" value="1" title="<?=$this->transEsc('bookbag_export_selected')?>"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>>
              <?=$this->icon('export') ?>
              <?=$this->transEsc('Export')?>
            </button>
          </li>
        <?php endif; ?>
        <li>
          <button id="ribbon-print" class="toolbar-btn btn-type-print" type="submit" name="print" value="1" title="<?=$this->transEsc('bookbag_print_selected')?>"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>>
            <?=$this->icon('print') ?>
            <?=$this->transEsc('Print')?>
          </button>
        </li>
        <?php if ($this->userlist()->getMode() !== 'disabled'): ?>
          <li>
            <button id="ribbon-save" class="toolbar-btn btn-type-save" type="submit" name="saveCart" value="1" title="<?=$this->transEsc('bookbag_save_selected')?>"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>>
              <?=$this->icon('user-list-add') ?>
              <?=$this->transEsc('Save')?>
            </button>
          </li>
        <?php endif; ?>
      <?php endif; ?>
      <?php if (isset($this->showCartControls) && $this->showCartControls): ?>
        <li>
          <button id="<?=$this->idPrefix?>updateCart" type="submit" class="toolbar-btn btn-type-add" name="add" value="1"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>>
            <?=$this->icon('cart-add') ?>
            <?=$this->transEsc('Add to Book Bag')?>
          </button>
        </li>
      <?php endif; ?>
    </ul>
  </nav>

  <!-- TueFind: Social Media buttons -->
  <?=$this->render('share/buttons.phtml', ['text' => $this->transEsc('Results for') . ' "' . $this->params->getDisplayQuery() . '"'])?>
<?php endif; ?>
